# Блок 7. OpenCV. Вывод изображения. (Заметки)

## Библиотека `numpy`
<https://numpy.org>

```python
import cv2
```

**NumPy** — это библиотека, которая помогает работать с математическими вычислениями, связанными с многомерными массивами. Массивы в NumPy отличаются от обычных массивов в Python тем, что они должны состоять только из элементов одного типа. Это позволяет очень сильно увеличить скорость вычислений. К тому же в NumPy много кода написано на более низкоуровневых языках C и Fortran, что так же делает вычисления быстрыми.

Библиотека NumPy нам нужна для работы с изображениями, которые будут храниться в виде NumPy-массивов.

## Библиотека `open-cv`
<https://opencv.org>

```python
import cv2
```

В библиотеке **OpenCV** собраны алгоритмы для обработки изображений и компьютерного зрения.

[OpenCV-Python Tutorials](https://docs.opencv.org/4.x/d6/d00/tutorial_py_root.html)

## Получение изображения с дрона
### class `Сamera`

Изображение с дрона идёт отдельным потоком данных. Поэтому, чтобы получить изображение с дрона, нужно сначала настроить канал связи для получения изображений. Для этого нужно создать экземпляр класса `Camera`.

```python
camera = Camera()
```

После создания экземпляра класса компьютер попробует установить канал связи с дроном. Статус подключения можно смотреть в логах (`Camera CONNECTED`/`Camera DSCONNECRED`).

[Документация. `Camera`](https://docs.geoscan.ru/pioneer/programming/python/pioneer-sdk-methods.html#Camera)

### Получение изображения

У экземпляра класса `Camera` есть метод `get_cv_frame()`, который возвращает уже декодированное изображение в формате `ndarray` (Numpy). Если нового изображения нет, то вернётся `None`.

```python
frame = camera.get_cv_frame()
```

### Проверка на `None`

Чтобы не возникало ошибок при попытке сделать что-нибудь с изображением, если вместо изображения вернулся `None`, полезно делать проверку на `None`.

```python
if frame is not None:
    pass
```